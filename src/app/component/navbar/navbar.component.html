<!-- <header class="flex items-center justify-between bg-indigo-900 p-2 text-white">
    <div class="flex items-center space-x-8">
      <div class="px-4">
        <i class="fas fa-headset text-2xl"></i>
      </div>
      <nav class="flex space-x-6">
        <ng-container *ngIf="role === 'admin'; else userNav">
          <a routerLink="/admin/tickets" class="py-2 hover:border-b-2 hover:border-white">Tickets</a>
          <a routerLink="/admin/feedback" class="py-2 hover:border-b-2 hover:border-white">Feedback</a>
          <a routerLink="/admin/analytics" class="py-2 hover:border-b-2 hover:border-white">Analytics</a>
        </ng-container>
  
        <ng-template #userNav>
          <a routerLink="/user/complaints" class="py-2 hover:border-b-2 hover:border-white">Complaints</a>
          <a routerLink="/user/suggestions" class="py-2 hover:border-b-2 hover:border-white">Suggestions</a>
          <a routerLink="/user/analytics" class="py-2 hover:border-b-2 hover:border-white">Analytics</a>
        </ng-template>
      </nav>
    </div>
  
    <div class="flex items-center space-x-4 pr-4">
      <span>Micropro</span>
      <div class="relative">
        <button class="flex items-center rounded bg-blue-600 px-2 py-1 text-white hover:bg-blue-700">
          <i class="fas fa-plus mr-1"></i>
          <span class="hidden md:inline">New</span>
          <i class="fas fa-chevron-down ml-1 text-xs"></i>
        </button>
      </div>
      <i class="fas fa-search"></i>
      <i class="far fa-bell"></i>
      <i class="fas fa-cog"></i>
      <div class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-500">
        <span>RE</span>
      </div>
    </div>
  </header> -->

<!-- Modern Responsive Navbar -->
<header class="bg-gradient-to-r from-indigo-900 to-indigo-800 shadow-md">
  <!-- Desktop Navbar -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Left Side - Logo & Primary Navigation -->
      <div class="flex items-center">
        <!-- Logo -->
        <div class="flex-shrink-0 flex items-center">
          <i class="fas fa-headset text-2xl text-white mr-2"></i>
          <span class="font-bold text-white text-lg hidden sm:block">Feedback</span>
        </div>

        <!-- Primary Navigation - Desktop -->
        <nav class="hidden md:ml-8 md:flex md:space-x-6">
          <ng-container *ngIf="role === 'admin'; else userNav">
            <a [routerLink]="['/', role, 'complaints']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-ticket-alt mr-1"></i> Complaints
            </a>
            <a [routerLink]="['/', role, 'suggestion']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-comment-dots mr-1"></i> Suggestions
            </a>
            <a [routerLink]="['/', role, 'dashboard']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-chart-bar mr-1"></i> Analytics
            </a>
          </ng-container>

          <ng-template #userNav>
            <a [routerLink]="['/', role, 'complaints']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-clipboard-list mr-1"></i> Complaints
            </a>

            <a [routerLink]="['/', role, 'suggestion']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-lightbulb mr-1"></i> Suggestions
            </a>
            <a [routerLink]="['/', role, 'user']" routerLinkActive="border-b-2 border-white font-medium"
              class="text-gray-200 px-3 py-2 hover:text-white hover:bg-indigo-800 rounded-md transition-all duration-200">
              <i class="fas fa-chart-line mr-1"></i> Analytics
            </a>
          </ng-template>
        </nav>
      </div>

      <!-- Right Side - Organization & User Functions -->
      <div class="flex items-center space-x-4">
        <!-- Organization Name -->
        <div class="hidden md:flex items-center bg-indigo-700 px-3 py-1 rounded-lg">
          <i class="fas fa-building mr-2 text-indigo-300"></i>
          <span class="text-white font-medium">{{ organizationName || 'Micropro' }}</span>
        </div>

        <!-- Create New Button -->
        <div class="relative" *ngIf="role === 'admin'; else standardNewButton">
          <button (click)="toggleNewDropdown()"
            class="flex items-center rounded bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-3 py-2 text-white transition-all duration-200 shadow-sm hover:shadow">
            <i class="fas fa-plus mr-1"></i>
            <span class="hidden sm:inline">New</span>
            <i class="fas fa-chevron-down ml-2 text-xs"></i>
          </button>

          <!-- Admin Dropdown Menu -->
          <div *ngIf="showNewDropdown"
            class="absolute right-0 mt-2 w-56 rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 z-50 transition-all duration-200 animate-fadeIn">
            <div class="px-4 py-2 text-xs text-gray-500 border-b">
              Create New
            </div>
            <a routerLink="/login" (click)="toggleNewDropdown()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors">
              <i class="fas fa-user mr-2 text-indigo-500"></i>User
            </a>
            <a routerLink="/admin/department" (click)="toggleNewDropdown()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors">
              <i class="fas fa-building mr-2 text-indigo-500"></i>Department
            </a>
            <a routerLink="/admin/create-complaint" (click)="toggleNewDropdown()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors">
              <i class="fas fa-clipboard-list mr-2 text-indigo-500"></i>Complaint
            </a>
          </div>
        </div>

        <!-- Standard New Button (for non-admin users) -->
        <ng-template #standardNewButton>
          <button (click)="openCreateComplaint()"
            class="flex items-center rounded bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-3 py-2 text-white transition-all duration-200 shadow-sm hover:shadow">
            <i class="fas fa-plus mr-1"></i>
            <span class="hidden sm:inline">New Complaint</span>
          </button>
        </ng-template>

        <!-- User Menu -->
        <div class="relative ml-3">
          <div>
            <button type="button" (click)="toggleUserMenu()"
              class="flex items-center space-x-3 text-sm bg-indigo-800 hover:bg-indigo-700 rounded-full p-1 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-indigo-800">
              <div
                class="flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium uppercase">
                {{ userInitials }}
              </div>
              <i class="fas fa-chevron-down text-xs text-gray-300 mr-2 hidden sm:block"></i>
            </button>
          </div>

          <!-- User Dropdown -->
          <div *ngIf="showUserMenu"
            class="absolute right-0 mt-2 w-48 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 z-50 animate-fadeIn">
            <div class="px-4 py-2 text-sm text-gray-700 border-b">
              <div class="font-medium">{{ username || 'User' }}</div>
              <div class="text-xs text-gray-500">{{ userRole }}</div>
            </div>
            <a routerLink="/profile" (click)="toggleUserMenu()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
              <i class="fas fa-user-circle mr-2"></i> Profile
            </a>
            <a routerLink="/settings" (click)="toggleUserMenu()"
              class="block px-4 py-2 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700">
              <i class="fas fa-cog mr-2"></i> Settings
            </a>
            <button (click)="logout()"
              class="block w-full text-left px-4 py-2 text-sm text-red-700 hover:bg-red-50 border-t">
              <i class="fas fa-sign-out-alt mr-2"></i> Sign out
            </button>
          </div>
        </div>

        <!-- Mobile menu button -->
        <button type="button" (click)="toggleMobileMenu()"
          class="md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-200 hover:text-white hover:bg-indigo-800 focus:outline-none focus:ring-2 focus:ring-white transition-colors">
          <i *ngIf="!showMobileMenu" class="fas fa-bars block h-6 w-6"></i>
          <i *ngIf="showMobileMenu" class="fas fa-times block h-6 w-6"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu -->
  <div *ngIf="showMobileMenu" class="md:hidden animate-slideDown">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-indigo-800">
      <!-- Mobile organization display -->
      <div class="px-3 py-2 text-sm font-medium text-indigo-300 border-b border-indigo-700 mb-2">
        <i class="fas fa-building mr-2"></i> {{ organizationName || 'Micropro' }}
      </div>

      <!-- Mobile navigation -->
      <ng-container *ngIf="role === 'admin'; else mobileUserNav">
        <a routerLink="/admin/tickets" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-ticket-alt mr-2"></i> Tickets
        </a>
        <a routerLink="/admin/feedback" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-comment-dots mr-2"></i> Feedback
        </a>
        <a routerLink="/admin/analytics" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-chart-bar mr-2"></i> Analytics
        </a>
      </ng-container>

      <ng-template #mobileUserNav>
        <a routerLink="/user/complaints" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-clipboard-list mr-2"></i> Complaints
        </a>
        <a routerLink="/user/suggestions" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-lightbulb mr-2"></i> Suggestions
        </a>
        <a routerLink="/user/analytics" routerLinkActive="bg-indigo-700 text-white"
          class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
          <i class="fas fa-chart-line mr-2"></i> Analytics
        </a>
      </ng-template>

      <!-- Mobile Profile Section -->
      <div class="border-t border-indigo-700 pt-4 pb-3">
        <div class="flex items-center px-3">
          <div class="flex-shrink-0">
            <div
              class="h-10 w-10 rounded-full bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center text-white">
              {{ userInitials }}
            </div>
          </div>
          <div class="ml-3">
            <div class="text-base font-medium text-white">{{ username }}</div>
            <div class="text-sm font-medium text-indigo-300">{{ userRole }}</div>
          </div>
        </div>
        <div class="mt-3 px-2 space-y-1">
          <a routerLink="/profile"
            class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
            <i class="fas fa-user-circle mr-2"></i> Profile
          </a>
          <a routerLink="/settings"
            class="block px-3 py-2 rounded-md text-base font-medium text-gray-200 hover:bg-indigo-700 hover:text-white">
            <i class="fas fa-cog mr-2"></i> Settings
          </a>
          <button (click)="logout()"
            class="w-full text-left px-3 py-2 rounded-md text-base font-medium text-red-300 hover:bg-red-900 hover:text-white">
            <i class="fas fa-sign-out-alt mr-2"></i> Sign out
          </button>
        </div>
      </div>
    </div>
  </div>
</header>